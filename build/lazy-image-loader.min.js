!function(e){var u=/\s*,+\s*/,s=/^\s*(.+)\s+(\d+)x\s+(\d+)px\s*$/i;function f(e){var t=window.scrollY,n=t+window.innerHeight,i=function e(t,n){n+=t.offsetTop;var i=t.offsetParent;return i&&i!==document.body?i.offsetTop===document.body.offsetTop?n:n+e(i):n}(e,0),r=i+e.offsetHeight;return t<=i&&i<=n||t<=r&&r<=n}e.lazyImageLoader=function(e){e=e||300;var t,n,i,r,o,a=document.querySelectorAll("img[data-lil-image-set]"),l=(a=Array.prototype.slice.call(a,0)).reduce(function(e,t){var n=t.dataset.lilImageSet;return n&&(n=n.split(u)).length&&(n=n.reduce(function(e,t){var n=t.match(s);return n&&e.push({src:n[1],devicePixelRatio:parseInt(n[2],10),breakpoint:parseInt(n[3],10)}),e},[])).length&&(n.sort(function(e,t){return e.devicePixelRatio<t.devicePixelRatio?-1:e.devicePixelRatio>t.devicePixelRatio?1:e.breakpoint<t.breakpoint?-1:e.breakpoint>t.breakpoint?1:0}),e.push({node:t,imageSet:n,fallbackSrc:t.dataset.lilFallbackSrc||t.src||""})),e},[]),c=function(e){var n=window.devicePixelRatio||1,i=window.innerWidth||0;e.forEach(function(e){var t,r,o;f(e.node)&&(e.node.src=(r=n,o=i,(t=e).imageSet.reduce(function(e,t){if(e)return e;var n=t.devicePixelRatio>=r,i=t.breakpoint>=o;return n&&i?t.src:e},null)||t.fallbackSrc))})}.bind(null,l),d=(t=c,n=e,r=i=null,o=[],function(){return o=Array.prototype.slice.call(arguments,0),r||(r=setTimeout(function(){i=t.apply({},o),r=null},n)),i});window.addEventListener("scroll",d),window.addEventListener("resize",d),c()}}(window||exports||module&&module.exports||{});