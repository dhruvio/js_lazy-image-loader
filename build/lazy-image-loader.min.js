!function(e){var s=/\s*,+\s*/,u=/^\s*(.+)\s+(\d+)x\s+(\d+)px\s*$/i;function p(e){var d=window.devicePixelRatio||1,s=window.innerWidth||0;e.forEach(function(e){var i,t,n,r,o,a,l,c;(i=e.node,t=window.scrollY,n=t+window.innerHeight,r=i.offsetTop,o=r+i.offsetHeight,t<=r&&r<=n||t<=o&&o<=n)&&(e.node.src=(l=d,c=s,(a=e).imageSet.reduce(function(e,i){if(e)return e;var t=i.devicePixelRatio>=l,n=i.breakpoint>=c;return t&&n?i.src:e},null)||a.fallbackSrc))})}e.lazyImageLoader=function(e){e=e||300;var i,t,n,r,o,a=document.querySelectorAll("img[data-lil-image-set]"),l=(a=Array.prototype.slice.call(a,0)).reduce(function(e,i){var t=i.dataset.lilImageSet;return t&&(t=t.split(s)).length&&(t=t.reduce(function(e,i){var t=i.match(u);return t&&e.push({src:t[1],devicePixelRatio:parseInt(t[2],10),breakpoint:parseInt(t[3],10)}),e},[])).length&&(t.sort(function(e,i){return e.devicePixelRatio<i.devicePixelRatio?-1:e.devicePixelRatio>i.devicePixelRatio?1:e.breakpoint<i.breakpoint?-1:e.breakpoint>i.breakpoint?1:0}),e.push({node:i,imageSet:t,fallbackSrc:i.dataset.lilFallbackSrc||i.src||""})),e},[]),c=p.bind(null,l),d=(i=c,t=e,r=n=null,o=[],function(){return o=Array.prototype.slice.call(arguments,0),r||(r=setTimeout(function(){n=i.apply({},o),r=null},t)),n});window.addEventListener("scroll",d),window.addEventListener("resize",d),c()}}(window||exports||module&&module.exports||{});